(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{230:function(t,e,r){var content=r(235);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(41).default)("a7256c4e",content,!0,{sourceMap:!1})},232:function(t,e,r){var o=r(13),n=r(233)(!1);o(o.S,"Object",{values:function(t){return n(t)}})},233:function(t,e,r){var o=r(25),n=r(47),c=r(42),d=r(67).f;t.exports=function(t){return function(e){for(var r,l=c(e),m=n(l),f=m.length,i=0,_=[];f>i;)r=m[i++],o&&!d.call(l,r)||_.push(t?[r,l[r]]:l[r]);return _}}},234:function(t,e,r){"use strict";var o=r(230);r.n(o).a},235:function(t,e,r){(e=r(40)(!1)).push([t.i,"h1[data-v-37e29bcf]{top:20px}.form-group[data-v-37e29bcf],h1[data-v-37e29bcf]{bottom:20px}",""]),t.exports=e},243:function(t,e,r){"use strict";r.r(e);r(2),r(232),r(19),r(20),r(1),r(112),r(68),r(54);var o=r(18),n=(r(10),r(16),{props:{items:{type:Array,required:!0}},methods:{stringToArray:function(t){return t.replace(/[\[\]\"]/g,"").split(",").join("\n")}}}),c=r(32),d={components:{GoodsCards:Object(c.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"cards"},t._l(t.items,(function(e){return r("div",{key:e.id,staticClass:"card"},[r("b-card",{staticClass:"mb-2",attrs:{title:e.name,"img-src":e.thumbnail,"img-alt":"thumbnail","img-top":""}},[r("b-card-text",[t._v("\n        "+t._s(t.stringToArray(e.description))+"\n      ")]),t._v(" "),r("nuxt-link",{attrs:{to:{path:"/good",query:{dp:e.id}}}},[t._v("\n        リンク\n      ")])],1)],1)})),0)}),[],!1,null,null,null).exports},data:function(){return{keyword:"",items:[],o_items:[],page:1,perPage:10}},asyncData:function(t){return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.app,"https://immense-brook-99073.herokuapp.com/api/v1/goods/",e.next=4,r.$axios.$get("https://immense-brook-99073.herokuapp.com/api/v1/goods/");case 4:return o=e.sent,console.log(o),e.abrupt("return",{items:o,o_items:JSON.parse(JSON.stringify(o))});case 7:case"end":return e.stop()}}),e)})))()},methods:{sortByFilter:function(filter){switch(console.log(filter),filter){case"price_desc":this.items.data.sort((function(a,b){return a.price<b.price?-1:a.price>b.price?1:0}));break;case"price_asc":this.items.data.sort((function(a,b){return a.price>b.price?-1:a.price<b.price?1:0}));break;case"date_asc":this.items.data.sort((function(a,b){return a.created_at>b.created_at?-1:a.created_at<b.created_at?1:0}));break;case"date_asc":this.items.data.sort((function(a,b){return a.created_at>b.created_at?1:a.created_at<b.created_at?-1:0}))}},categoryByFilter:function(filter){var a=this.o_items.data;switch(filter){case"all":console.log(this.o_items.data),this.items.data=a;break;case"grass":console.log(this.o_items.data),this.items.data=a.filter((function(t){return"メガネ"===t.category}));break;case"hat":console.log(this.o_items.data),this.items.data=a.filter((function(t){return"帽子"===t.category}));break;case"mask":console.log(this.o_items.data),this.items.data=a.filter((function(t){return"マスク"===t.category}))}},uploadByFilter:function(filter){var a=this.o_items.data;switch(filter){case"all":console.log(this.o_items.data),this.items.data=a;break;case"uploaded":console.log(this.o_items.data),this.items.data=a.filter((function(t){return""!==t.data}));break;case"yet_uploaded":console.log(this.o_items.data),this.items.data=a.filter((function(t){return""===t.data}))}}},computed:{filterItems:function(){return this.items.data.slice((this.page-1)*this.perPage,this.page*this.perPage)},searchKeyword:function(){var t=this.items.data;if(""!==this.keyword){var e=new RegExp(this.keyword,"i");return t.filter((function(t){return null!==Object.values(t).toString().match(e)}))}return t}}},l=(r(234),Object(c.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("h1",[t._v("商品一覧")]),t._v(" "),r("div",{staticClass:"form-group"},[r("div",[r("b-form-input",{attrs:{placeholder:"キーワード検索"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),t._v(" "),r("div",{staticClass:"btn-group"},[r("div",[r("b-dropdown",{staticClass:"m-md-2",attrs:{id:"dropdown-1",text:"検索フィルタ"}},[r("b-dropdown-item",{on:{click:function(e){return t.uploadByFilter("all")}}},[t._v("すべて")]),t._v(" "),r("b-dropdown-item",{on:{click:function(e){return t.uploadByFilter("uploaded")}}},[t._v("試着可能")]),t._v(" "),r("b-dropdown-item",{on:{click:function(e){return t.uploadByFilter("yet_uploaded")}}},[t._v("3Dデータ未入稿")])],1)],1),t._v(" "),r("div",[r("b-dropdown",{staticClass:"m-md-2",attrs:{id:"dropdown-2",text:"カテゴリ"}},[r("b-dropdown-item",{on:{click:function(e){return t.categoryByFilter("all")}}},[t._v("すべて")]),t._v(" "),r("b-dropdown-item",{on:{click:function(e){return t.categoryByFilter("grass")}}},[t._v("メガネ")]),t._v(" "),r("b-dropdown-item",{on:{click:function(e){return t.categoryByFilter("hat")}}},[t._v("帽子")]),t._v(" "),r("b-dropdown-item",{on:{click:function(e){return t.categoryByFilter("mask")}}},[t._v("マスク")])],1)],1),t._v(" "),r("div",[r("b-dropdown",{staticClass:"m-md-2",attrs:{id:"dropdown-3",text:"表示順"},on:{change:t.sortByFilter}},[r("b-dropdown-item",{on:{click:function(e){return t.sortByFilter("price_desc")}}},[t._v("価格が安い順")]),t._v(" "),r("b-dropdown-item",{on:{click:function(e){return t.sortByFilter("price_asc")}}},[t._v("価格が高い順")]),t._v(" "),r("b-dropdown-item",{on:{click:function(e){return t.sortByFilter("date_desc")}}},[t._v("発売が新しい順")]),t._v(" "),r("b-dropdown-item",{on:{click:function(e){return t.sortByFilter("date_asc")}}},[t._v("発売が古い順")])],1)],1)])]),t._v(" "),r("GoodsCards",{attrs:{items:t.searchKeyword}})],1)}),[],!1,null,"37e29bcf",null));e.default=l.exports}}]);